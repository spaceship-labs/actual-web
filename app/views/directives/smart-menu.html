<div
  ng-class="index > 3 ? 'smart-menu-left' : 'smart-menu'"
  layout="row"
  ng-cloak
>
  <div flex="30" flex-order="{{ index > 3 ? 2 : 1 }}">
    <div ng-repeat="subcategory in subcategories track by $index">
      <p>
        <a
          ng-href="{{ '/category/' + subcategory.Handle }}"
          ng-click="leavehover()"
          >{{ subcategory.Name }}</a
        >
      </p>
    </div>
  </div>
  <div flex="70" flex-order="{{ index > 3 ? 1 : 2 }}" on="category">
    <div flex="100">
      <div class="listing-product" layout="row"> <!-- ng-repeat= smartmenu in records -->

        <!-- FEATURE PRODUCTS: ONE VIEW-->
        <div class="listing-product-gallery">
          <div
            class="slow-movement-sticker"
            ng-show="product.slowMovement"
            ng-switch
            on="siteTheme"
          >
            <img
              ng-switch-when="actual-home"
              src="images/slowmovement-home.png"
              alt="Lento movimiento"
            />
            <img
              ng-switch-when="actual-studio"
              src="images/slowmovement-studio.png"
              alt="Lento movimiento"
            />
            <!-- <img ng-switch-when="actual-kids" src="images/slowmovement-kids.png" alt="Lento movimiento"> -->
            <img
              ng-switch-default
              src="images/slowmovement.png"
              alt="Lento movimiento"
            />
          </div>

          <div
            ng-if="product.Discount && product.Discount > 0"
            class="discount-batch"
            layout="row"
          >
            <strong>- {{ product.Discount }}%</strong>
          </div>

          <!-- <img
            ng-src="images/getMain8-287x287.jpg"
            alt=""
          />-->

          <img
            ng-if="images.length === 1"
            ng-src="{{ images[0].url }}?d=600x600"
            alt=""
          />

          <div class="listing-product-info">
            <div class="listing-product-info-main">
              <p>
                <strong>{{ product.Name }}</strong>
              </p>

              <div layout="row" layout-align="end center">
                <p class="price">
                  <span class="price-before-currency">MXN</span>
                  <span class="price-before">{{
                    product.priceBefore | roundCurrency: '$'
                  }}</span>
                  <span ng-if="product.priceBefore">|</span>
                  <strong class="price-now-currency">MXN</strong>
                  <strong class="price-now">{{
                    product.Price | roundCurrency: '$'
                  }}</strong>
                  <br />
                  <span class="taxes-included">Impuestos incluidos</span>
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- FEATURE PRODUCTS: SECOND VIEW TEST -->
        <div class="listing-product-gallery">
          <div
            class="slow-movement-sticker"
            ng-show="product.slowMovement"
            ng-switch
            on="siteTheme"
          >
            <img
              ng-switch-when="actual-home"
              src="images/slowmovement-home.png"
              alt="Lento movimiento"
            />
            <img
              ng-switch-when="actual-studio"
              src="images/slowmovement-studio.png"
              alt="Lento movimiento"
            />
            <!-- <img ng-switch-when="actual-kids" src="images/slowmovement-kids.png" alt="Lento movimiento"> -->
            <img
              ng-switch-default
              src="images/slowmovement.png"
              alt="Lento movimiento"
            />
          </div>

          <div
            ng-if="product.Discount && product.Discount > 0"
            class="discount-batch"
            layout="row"
            layout-align="center center"
          >
            <strong>- {{ product.Discount }}%</strong>
          </div>

          <img
            ng-src="images/prodotti-59268-relf13017b0-53eb-44c1-b59a-c8438d55cff7-287x287.jpg"
            alt=""
          />
          <!-- <img
            ng-if="images.length === 1"
            ng-src="{{ images[0].url }}?d=600x600"
            alt=""
          /> -->
          <slick ng-if="areImagesLoaded && images.length > 1" arrows="true">
            <div ng-repeat="image in images track by $index">
              <img ng-src="{{ image.url }}" alt="" />
            </div>
          </slick>
          <div class="listing-product-info">
            <div class="listing-product-info-main">
              <p>
                <strong>{{ product.Name }}</strong>
              </p>

              <div layout="row" layout-align="end center">
                <p class="price">
                  <span class="price-before-currency">MXN</span>
                  <span class="price-before">{{
                    product.priceBefore | roundCurrency: '$'
                  }}</span>
                  <span ng-if="product.priceBefore">|</span>
                  <strong class="price-now-currency">MXN</strong>
                  <strong class="price-now">{{
                    product.Price | roundCurrency: '$'
                  }}</strong>
                  <br />
                  <span class="taxes-included">Impuestos incluidos</span>
                </p>
              </div>
            </div>
          </div>
        </div>
        <!-- END FEATURES -->
      </div>
    </div>
  </div>
</div>
