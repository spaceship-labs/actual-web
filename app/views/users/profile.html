<section>
  <!--START TOP BAR-->
  <div class="header-top-bar actual-home" fixed-element  top="70" ng-class="{'fixed-head': scrolled}">
    <div class="container container-lg" layout="row" layout-align="center center">

      <!--ON SCROLL-->

      <div flex="15" class="logo" layout-align="center center">
        <a href="/" >
          <img src="images/logo.png" alt="Actual Group">
        </a>
      </div>

      <div 
        class="categories-btn-wrap" 
        flex="15" 
        layout-align="center center"
      >
      </div>


      <!--END ONLY ON SCROLL-->


      <form 
        action="/search" 
        method="GET" 
        class="searcher-wrapper" 
        layout="row"
      >
        <div class="searcher">
          <div class="searcher-inner">
            <i class="icon-search"></i>
            <input
              type="text"
              name="term"
              ng-attr-name="{{vm.isItemCodeSearch && 'itemcode' || 'term' }}"
              >
          </div>
        </div>
        <input type="submit" value="BUSCAR" class="searcher-btn">
      </form>

      <div 
        class="header-top-bar-menu" 
        layout="row" 
        layout-align="center center"
      >

        <!--IF ACTIVE QUOTATION-->
        <div
          ng-if="main.user && main.activeQuotation"
          ng-click="main.toggleCartModal()"
          flex
          href="#"
          class="header-top-bar-menu-item"
        >
          <span class="cart-n-items" ng-class="{'cart-active' : main.activeQuotation}">{{main.activeQuotation.totalProducts}}</span>
          <i class="icon-carro" ng-class="{'cart-active' : main.activeQuotation}"></i>
          <ng-include ng-if="main.user && main.isActiveCart" src="'views/partials/cart-header.html'"></ng-include>
        </div>

        <!--IF NOT ACTIVE QUOTATION-->
        <a
          ng-if="main.user && !main.activeQuotation"
          flex
          href="/"
          class="header-top-bar-menu-item"
        >
          <i class="icon-carro"></i>
          <ng-include ng-if="main.user && main.isActiveCart" src="'views/partials/cart-header.html'"></ng-include>
        </a>


        <div
          ng-if="!main.user"
          flex
          class="header-top-bar-menu-item">
          <i class="icon-login" ng-click="main.toggleLoginModal()"></i>
          <ng-include ng-if="!main.user && main.isActiveLogin" src="'views/partials/login-header.html'"></ng-include>
        </div>

        <!--IF logged in-->
        <div
          ng-if="main.user"
          flex
          href="#"
          ng-click="main.toggleProfileModal()"
          class="header-top-bar-menu-item header-top-bar-menu-item-name"
        >
          <a href="#" >
            <i class="icon-login"></i>
            <!--<span >Bienvenido <strong>{{main.user.firstName}}</strong></span>-->
          </a>
          <ng-include ng-if="main.toggleProfileHeader" src="'views/partials/profile-header.html'"></ng-include>
        </div>

      <!--
        <div class="header-top-bar-menu-item" flex>
          <md-button class="pointer-btn md-fab md-mini md-primary" ng-click="main.togglePointerSidenav()">
            <i class="icon-pointer"></i>
          </md-button>
        </div>

      -->

        <!---end if Logged in -->

      </div>

    </div>

  </div>
  <!--END TOP BAR-->
</section>
<section id="profile-view" class="form-view container container-xlg">
  <h1><i class="icon-login"></i> <strong>MI PERFIL |</strong> {{vm.user.firstName + ' ' + vm.user.lastName }}</h1>

  <div ng-if="vm.isLoading" layout-fill layout="row" layout-sm="column" layout-align="center center" class="loading-circle">
    <md-progress-circular md-mode="indeterminate"  md-diameter="150"></md-progress-circular>
  </div>

  <form ng-if="!vm.isLoading" name="updateForm" ng-submit="vm.update(updateForm)" class="form-view-content">

    <section class="form-section">
      <!--DATOS PERSONALES-->
      <section class="form-section-content form-section-content-v2" layout="row" layout-align="space-between center">

        <!--
        <div flex="20" class="avatar-placeholder-wrap">
          <div class="avatar-placeholder">
            <span>+</span>
          </div>
          <p><strong>FOTO DE PERFIL</strong></p>
        </div>
        -->

        <div flex="100">
          <div layout="row">
            <div flex="40" class="input-element">
              <label>
                <strong>Nombre(s) <span class="hl-label">*</span></strong>
              </label>
              <div class="input-element-inner">
                <input type="text" ng-model="vm.user.firstName" required>
              </div>
            </div>

            <div flex="60" class="input-element">
              <label>
                <strong>Apellidos <span class="hl-label">*</span></strong>
              </label>
              <div class="input-element-inner">
                <input type="text" ng-model="vm.user.lastName" required>
              </div>
            </div>

          </div>

          <div layout="row">

            <div flex="30" class="input-element">
              <label>
                <strong>Email</strong> <span class="hl-label">*</span>
              </label>
              <div class="input-element-inner">
                <input type="email" ng-model="vm.user.email" required>
              </div>
            </div>

           <div flex="30" class="input-element">
              <label>
                <strong>Confirmar email</strong>
                <span class="hl-label">*</span>
              </label>
              <div class="input-element-inner">
                <input
                  name="confirmEmail"
                  type="email"
                  ng-model="_email"
                  ng-pattern="vm.user.email"
                  required
                >
              </div>
            </div>

          </div>

          <hr/>

          <p class="modify-password">
            <a
              href="http://admin.miactual.com/auth/forgot-password"
            >
              <i class="icon-login"></i>
              <strong>MODIFICAR CONTRASEÑA</strong>
            </a>
          </p>

        </div>

      </section>
      <!--END DATOS PERSONALES-->

    </section>
    <!--END FORM SECTION-->

    <div layout="row" class="form-view-btns no-margin">
      <!--<a href="" flex class="form-view-btn">Borrar todos los campos</a>-->
      <button
        ng-submit="vm.update(updateForm)"
        flex="50"
        class="form-view-btn form-view-btn-primary">
        Guardar información
      </button>
    </div>

  </form>
  <!--END PROFILE EDIT-->

</section>  
